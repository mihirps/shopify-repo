<!-- filepath: e:\shopoify repo\shopify-repo\sections\hero-banner.liquid -->
{%- for block in section.blocks -%}
    {%- case block.type -%}
    {%- when 'banner' -%}
    {%- if block.settings.block_color_enable -%}
    <style>
      {% for block in section.blocks %}
        {% case block.type %}
        {% when 'banner' %}
        #block-{{ block.id }} .hero-banner-content {
          position: relative;
          z-index: 2;
          padding-top: {{ block.settings.content_padding_top | default: 40 }}px;
          padding-bottom: {{ block.settings.content_padding_bottom | default: 40 }}px;
          padding-left: {{ block.settings.content_padding_left | default: 0 }}px;
          padding-right: {{ block.settings.content_padding_right | default: 0 }}px;
        }
        
        @media (max-width: 767px) {
          #block-{{ block.id }} .hero-banner-content {
            padding-top: {{ block.settings.content_padding_top | divided_by: 1.5 | round | default: 25 }}px;
            padding-bottom: {{ block.settings.content_padding_bottom | divided_by: 1.5 | round | default: 25 }}px;
            padding-left: {{ block.settings.content_padding_left | default: 0 }}px;
            padding-right: {{ block.settings.content_padding_right | default: 0 }}px;
          }
        }
        {% endcase %}
      {% endfor %}
      #block-{{ block.id }} .hero-banner-content .banner-title{
        color: {{ block.settings.title_color }};
      }
      #block-{{ block.id }} .hero-banner-content .banner-desc{
        color: {{ block.settings.sub_title_color }};
      }
      #block-{{ block.id }} .hero-banner-content a.btn-hero {
        color: {{ block.settings.button_text_color }};
        background-color: {{ block.settings.button_bg_color }};
      }
      #block-{{ block.id }} .hero-banner-content a.btn-hero:hover {
        color: {{ block.settings.button_text_hover_color }};
        background-color: {{ block.settings.button_bg_hover_color }};
      }
    </style>
    {%- endif -%}
    {%- endcase -%}
    {%- endfor -%}
    {%- render 'section-style' -%}
    
    {%- if section.settings.section_color_enable -%}
    <style>
      @media (max-width: 767px) {
        .hero-overlay:before {
          {% comment %} background-color: {{ section.settings.overlay_color | hex_to_rgba: section.settings.overlay_color_opatity }}; {% endcomment %}
        }
      }
    </style>
    {%- endif -%}
    
    {%- if section.settings.overlay_enable -%}
    <style>
      #section-{{ section.id }} .hero-overlay::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        {% comment %} background-color: {{ section.settings.overlay_color | color_modify: 'alpha', section.settings.overlay_opacity }}; {% endcomment %}
        z-index: 1;
        pointer-events: none;
      }
      
      /* Keep existing mobile overlay settings */
      @media (max-width: 767px) {
        {% comment %} #section-{{ section.id }} .hero-overlay::before {
          background-color: {{ section.settings.overlay_color | color_modify: 'alpha', section.settings.overlay_opacity }};
        } {% endcomment %}
      }
    </style>
    {%- endif -%}
    
    {%- if section.settings.mobile_specific_overlay and section.settings.overlay_enable -%}
    {% comment %} <style>
      @media (max-width: 767px) {
        #section-{{ section.id }} .hero-overlay::before {
          background-color: {{ section.settings.mobile_overlay_color | color_modify: 'alpha', section.settings.mobile_overlay_opacity }};
        }
      }
    </style> {% endcomment %}
    {%- endif -%}
    
    <section class="hero-banner-area{% if section.settings.banner_large_height_enable %} hero-style-five{% endif %}" id="section-{{ section.id }}" data-section="HeroBanner" style="{% if section.settings.hero_margin_left %}margin-left: {{ section.settings.hero_margin_left }}px;{% endif %}">
      {%- for block in section.blocks -%}
      {%- assign content_position = block.settings.content_position -%}
      {%- assign content_animation = block.settings.content_animation -%}
      {%- case block.type -%}
      {%- when 'banner' -%}  
      
      <div class="hero-banner {% if section.settings.overlay_enable %}hero-overlay{% endif %}" {{ block.shopify_attributes }}>
        <div class="banner-image-all-device{% if block.settings.banner_image_mobile %} sid-none{% endif %}">
          <div id="block-{{ block.id }}" class="hero-banner-item bg-img">
            {% if block.settings.banner_image %}
              <img src="{{ block.settings.banner_image | img_url: '1800x' }}" 
                   alt="{{ block.settings.banner_title | escape }}"
                   width="{{ block.settings.banner_image.width }}"
                   height="{{ block.settings.banner_image.height }}"
                   loading="eager"
                   fetchpriority="high"
                   {% if section.settings.height_mode == 'fixed' %}style="max-height: {{ section.settings.banner_height_desktop }}px;"{% endif %}
                   class="hero-bg-image">
            {% else %}
              <div class="placeholder-background">
                {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
              </div>
            {% endif %}
            
            {%- if block.settings.image_link_enable and block.settings.banner_button_url != blank -%}
              <a class="banner-image-link" href="{{ block.settings.banner_button_url }}"></a>
            {%- endif -%}
            
            {%- if block.settings.banner_title != '' or block.settings.banner_content != '' or block.settings.banner_button_title != '' -%}
            <div class="container">
              <div class="row">
                <div class="{% if content_position == 'content_left' %}col-md-7 col-lg-6{% elsif content_position == 'content_right' %}col-md-7 col-lg-6 ml-auto{% else %}offset-md-2 col-md-8 offset-lg-3 col-lg-6{% endif %}">
                  <div class="{% if content_animation == 'animation_1' %}slide-1{% elsif content_animation == 'animation_2' %}slide-2{% elsif content_animation == 'animation_3' %}slide-3{% endif %}
                              {% if content_position == 'content_left' %}hero-banner-content{% elsif content_position == 'content_right' %}hero-banner-content text-md-right{% else %}hero-banner-content text-center{% endif %}">
                    {%- if block.settings.banner_title != '' -%}
                    <h2 class="banner-title">{{ block.settings.banner_title }}</h2>
                    {%- endif -%}
                    {%- if block.settings.banner_content != '' -%}
                    <h4 class="banner-desc">{{ block.settings.banner_content }}</h4>
                    {%- endif -%}
                    {%- if block.settings.banner_button_title != '' -%}
                    <a href="{{ block.settings.banner_button_url }}" class="btn btn-hero">{{ block.settings.banner_button_title }}</a>
                    {%- endif -%}
                  </div>
                </div>
              </div>
            </div>
            {%- endif -%}
          </div>
        </div>
        
        {%- if block.settings.banner_image_mobile -%}
        <div class="banner-image-mobile-device">
          <div id="block-{{ block.id }}" class="hero-banner-item bg-img">
            <img src="{{ block.settings.banner_image_mobile | img_url: '800x' }}" 
                 alt="{{ block.settings.banner_title | escape }}"
                 width="{{ block.settings.banner_image_mobile.width }}"
                 height="{{ block.settings.banner_image_mobile.height }}"
                 loading="eager"
                 fetchpriority="high"
                 class="hero-bg-image-mobile">
            
            {%- if block.settings.banner_title != '' or block.settings.banner_content != '' or block.settings.banner_button_title != '' -%}
            <div class="container">
              <div class="row">
                <div class="col-12">
                  <div class="hero-banner-content text-center">
                    {%- if block.settings.banner_title != '' -%}
                    <h2 class="banner-title">{{ block.settings.banner_title }}</h2>
                    {%- endif -%}
                    {%- if block.settings.banner_content != '' -%}
                    <h4 class="banner-desc">{{ block.settings.banner_content }}</h4>
                    {%- endif -%}
                    {%- if block.settings.banner_button_title != '' -%}
                    <a href="{{ block.settings.banner_button_url }}" class="btn btn-hero">{{ block.settings.banner_button_title }}</a>
                    {%- endif -%}
                  </div>
                </div>
              </div>
            </div>
            {%- endif -%}
          </div>
        </div>
        {%- endif -%}
      </div>
      
      {%- endcase -%}
      {%- endfor -%}
    </section>
    
    <style>
      /* Essential styles for proper display */
      .hero-banner-area {
        position: relative;
        overflow: hidden;
      }
      
      .hero-banner {
        position: relative;
      }
      
      /* Height management - Fixed and improved version */
      .hero-banner-item {
        position: relative;
        display: flex;
        align-items: center;
        width: 100%;
      }

      {% case section.settings.height_mode %}
        {% when 'fixed' %}
        .hero-banner-item {
          height: {{ section.settings.banner_height_desktop }}px;
        }
        
        @media (max-width: 991px) {
          .hero-banner-item {
            height: {{ section.settings.banner_height_tablet }}px;
          }
        }
        
        @media (max-width: 767px) {
          .hero-banner-item {
            height: {% if section.settings.fullscreen_mobile %}100vh{% else %}{{ section.settings.banner_height_mobile }}px{% endif %};
          }
        }
        
        {% when 'adaptable' %}
        .hero-banner-item {
          min-height: 250px;
          height: auto;
        }
        
        @media (max-width: 767px) {
          .hero-banner-item {
            min-height: {% if section.settings.fullscreen_mobile %}100vh{% else %}200px{% endif %};
          }
        }
        
        {% when 'fullscreen' %}
        .hero-banner-item {
          height: 100vh;
        }
      {% endcase %}
      
      /* Image sizing */
      .hero-bg-image, .hero-bg-image-mobile {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -1;
      }
      
      /* Continue with your existing styles... */
    </style>
    
    {% schema %}
    {
      "name": "Hero Banner",
      "settings": [
        {
          "type": "checkbox",
          "id": "banner_large_height_enable",
          "label": "Banner Large Height Enable",
          "default": false
        },
        {
          "type": "header",
          "content": "Color"
        },
        {
          "type": "checkbox",
          "id": "section_color_enable",
          "label": "Color Enable",
          "default": false,
          "info": "Enable the field for color customization"
        },
        {
          "type": "header",
          "content": "Image Overlay"
        },
        {
          "type": "checkbox",
          "id": "overlay_enable",
          "label": "Enable Image Overlay",
          "default": false,
          "info": "Add a colored overlay on top of your banner image"
        },
        {
          "type": "color",
          "id": "overlay_color",
          "label": "Overlay Color",
          "default": "#000000"
        },
        {
          "type": "range",
          "id": "overlay_opacity",
          "min": 0.0,
          "max": 1.0,
          "step": 0.05,
          "label": "Overlay Opacity",
          "default": 0.3,
          "info": "0 = completely transparent, 1 = completely opaque"
        },
        {
          "type": "header",
          "content": "Banner Height"
        },
        {
          "type": "select",
          "id": "height_mode",
          "label": "Height Mode",
          "options": [
            {
              "value": "fixed",
              "label": "Fixed Height"
            },
            {
              "value": "adaptable",
              "label": "Adapt to Content"
            },
            {
              "value": "fullscreen",
              "label": "Full Screen"
            }
          ],
          "default": "fixed",
          "info": "Set how your banner height should behave"
        },
        {
          "type": "range",
          "id": "banner_height_desktop",
          "min": 200,
          "max": 800,
          "step": 10,
          "unit": "px",
          "label": "Desktop Height",
          "default": 450,
          "info": "Applied when using Fixed Height mode"
        },
        {
          "type": "range",
          "id": "banner_height_tablet",
          "min": 200,
          "max": 600,
          "step": 10,
          "unit": "px",
          "label": "Tablet Height",
          "default": 400,
          "info": "Applied when using Fixed Height mode"
        },
        {
          "type": "range",
          "id": "banner_height_mobile",
          "min": 150,
          "max": 500,
          "step": 10,
          "unit": "px",
          "label": "Mobile Height",
          "default": 350,
          "info": "Applied when using Fixed Height mode"
        },
        {
          "type": "header",
          "content": "Mobile Settings"
        },
        {
          "type": "checkbox",
          "id": "mobile_specific_overlay",
          "label": "Use Different Overlay for Mobile",
          "default": false
        },
        {
          "type": "color",
          "id": "mobile_overlay_color",
          "label": "Mobile Overlay Color",
          "default": "#fff",
          "info": "Applied only when 'Use Different Overlay for Mobile' is enabled"
        },
        {
          "type": "range",
          "id": "mobile_overlay_opacity",
          "min": 0.0,
          "max": 1.0,
          "step": 0.05,
          "label": "Mobile Overlay Opacity",
          "default": 0.7
        },
        {
          "type": "checkbox",
          "id": "fullscreen_mobile",
          "label": "Full Height on Mobile",
          "default": false,
          "info": "Make banner full height on mobile regardless of height mode"
        },
        {
          "type": "range",
          "id": "hero_margin_left",
          "label": "Hero Banner Margin Left (px)",
          "min": 0,
          "max": 200,
          "step": 1,
          "default": 0
        }
      ],
      "blocks":[
        {
          "type": "banner",
          "name": "Banner",
          "limit": 1,
          "settings": [
            {
              "type": "image_picker",
              "id": "banner_image",
              "label": "Image",
              "info": "Recommended Size: 1920 x 670px"
            },
            {
              "type": "image_picker",
              "id": "banner_image_mobile",
              "label": "Image (Mobile)",
              "info": "If you want to show a separate banner image on mobile, add an image. Recommended Size: 767 x 500px"
            },
            {
              "type": "header",
              "content": "Content"
            },
            {
              "type": "textarea",
              "id": "banner_title",
              "label": "Title",
              "default": "Banner Title",
              "info": "Use '<span>' tag for line break"
            },
            {
              "type": "textarea",
              "id": "banner_content",
              "label": "Content",
              "default": "Banner content here"
            },
            {
              "type": "text",
              "id": "banner_button_title",
              "label": "Button Title",
              "default": "Shop Now"
            },
            {
              "type": "url",
              "id": "banner_button_url",
              "label": "URL"
            },
            {
              "type": "checkbox",
              "id": "image_link_enable",
              "label": "Image Link Enable",
              "default": false,
              "info": "Enable this field if you want to link banner image"
            },
            {
              "type": "radio",
              "id": "content_position",
              "label": "Content Position",
              "options":[
                {
                  "label": "Left",
                  "value": "content_left"
                },
                {
                  "label": "Right",
                  "value": "content_right"
                },
                {
                  "label": "Center",
                  "value": "content_center"
                }
              ],
              "default": "content_left"
            },
            {
              "type": "select",
              "id": "content_animation",
              "label": "Animation",
              "options":[
                {
                  "label": "Animation 1",
                  "value": "animation_1"
                },
                {
                  "label": "Animation 2",
                  "value": "animation_2"
                },
                {
                  "label": "Animation 3",
                  "value": "animation_3"
                }
              ],
              "default": "animation_1"
            },
            {
              "type": "header",
              "content": "Color"
            },
            {
              "type": "checkbox",
              "id": "block_color_enable",
              "label": "Color Enable",
              "default": false,
              "info": "Enable the field for color customization"
            },
            {
              "type": "color",
              "id": "title_color",
              "label": "Title Color",
              "default": "#222"
            },
            {
              "type": "color",
              "id": "sub_title_color",
              "label": "Sub Title Color",
              "default": "#555"
            },
            {
              "type": "color",
              "id": "button_text_color",
              "label": "Button text Color",
              "default": "#fff"
            },
            {
              "type": "color",
              "id": "button_bg_color",
              "label": "Button BG Color",
              "default": "#c29958"
            },
            {
              "type": "color",
              "id": "button_text_hover_color",
              "label": "Button text Hover Color",
              "default": "#fff"
            },
            {
              "type": "color",
              "id": "button_bg_hover_color",
              "label": "Button BG Hover Color",
              "default": "#222222"
            },
            {
              "type": "header",
              "content": "Content Spacing"
            },
            {
              "type": "range",
              "id": "content_padding_top",
              "min": 0,
              "max": 100,
              "step": 5,
              "label": "Content Padding Top",
              "unit": "px",
              "default": 40
            },
            {
              "type": "range",
              "id": "content_padding_bottom",
              "min": 0,
              "max": 100,
              "step": 5,
              "label": "Content Padding Bottom",
              "unit": "px",
              "default": 40
            },
            {
              "type": "range",
              "id": "content_padding_left",
              "min": 0,
              "max": 100,
              "step": 5,
              "label": "Content Padding Left",
              "unit": "px",
              "default": 0
            },
            {
              "type": "range",
              "id": "content_padding_right",
              "min": 0,
              "max": 100,
              "step": 5,
              "label": "Content Padding Right",
              "unit": "px",
              "default": 0
            }
          ]
        },
        {
          "type": "section_padding",
          "name": "Section Padding",
          "limit": 1,
          "settings": [
            {
              "type": "header",
              "content": "Large/Desktop Device"
            },
            {
              "type": "range",
              "id": "section_padding_top",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Padding Top",
              "unit": "px",
              "default": 0
            },
            {
              "type": "range",
              "id": "section_padding_bottom",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Padding Bottom",
              "unit": "px",
              "default": 80
            },
            {
              "type": "header",
              "content": "Tablet Device"
            },
            {
              "type": "range",
              "id": "section_padding_top_md",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Padding Top",
              "unit": "px",
              "default": 0
            },
            {
              "type": "range",
              "id": "section_padding_bottom_md",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Padding Bottom",
              "unit": "px",
              "default": 80
            },
            {
              "type": "header",
              "content": "Mobile Device"
            },
            {
              "type": "range",
              "id": "section_padding_top_xs",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Padding Top",
              "unit": "px",
              "default": 0
            },
            {
              "type": "range",
              "id": "section_padding_bottom_xs",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Padding Bottom",
              "unit": "px",
              "default": 60
            }
          ]
        },
        {
          "type": "section_margin",
          "name": "Section Margin",
          "limit": 1,
          "settings": [
            {
              "type": "header",
              "content": "Large/Desktop Device"
            },
            {
              "type": "range",
              "id": "section_margin_top",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Margin Top",
              "unit": "px",
              "default": 0
            },
            {
              "type": "range",
              "id": "section_margin_bottom",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Margin Bottom",
              "unit": "px",
              "default": 0
            },
            {
              "type": "header",
              "content": "Tablet Device"
            },
            {
              "type": "range",
              "id": "section_margin_top_md",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Margin Top",
              "unit": "px",
              "default": 0
            },
            {
              "type": "range",
              "id": "section_margin_bottom_md",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Margin Bottom",
              "unit": "px",
              "default": 0
            },
            {
              "type": "header",
              "content": "Mobile Device"
            },
            {
              "type": "range",
              "id": "section_margin_top_xs",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Margin Top",
              "unit": "px",
              "default": 0
            },
            {
              "type": "range",
              "id": "section_margin_bottom_xs",
              "min": 0,
              "max": 150,
              "step": 5,
              "label": "Margin Bottom",
              "unit": "px",
              "default": 0
            }
          ]
        }
      ],
      "presets": [
        {
          "name": "Hero Banner",
          "category": "1. hero sections",
          "blocks":[
            {
              "type": "banner"
            },
            {
              "type": "section_padding"
            }
          ]
        }
      ],
      "disabled_on": {
        "groups": ["header", "footer"]
      }
    }
    {% endschema %}

{%- assign lcp_image = section.blocks[0].settings.banner_image -%}
{%- if lcp_image != blank -%}
  <link rel="preload" as="image" href="{{ lcp_image | img_url: '1800x' }}" fetchpriority="high">
{%- endif -%}

<link rel="preload" href="{{ 'style.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="{{ 'style.css' | asset_url }}"></noscript>
<link rel="preload" href="{{ 'vendor.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="{{ 'vendor.css' | asset_url }}"></noscript>